This article details a practical JavaScript bookmarklet designed to convert dark mode websites into a more vision-friendly light mode, particularly benefiting individuals with certain ocular conditions.

The author begins by referencing a bookmarklet shared by their friend Sylvain Wallez, noting that while dark mode is a popular trend, it can be "very painful" for some users. Specifically, individuals with vision issues like astigmatism (which the author personally experiences) find certain dark mode implementations, especially those with high contrast, problematic. To support this, the article cites "allaboutvision.com," explaining that people with myopia or astigmatism can suffer from **halation**. Halation is described as the phenomenon where light spreads beyond its boundaries, resulting in a "foggy or blurry appearance," which can be significantly aggravated by the stark contrast of dark mode interfaces.

To counteract this, the author provides a specific JavaScript bookmarklet. Users are instructed to save the provided JavaScript code into their browser's bookmark manager, naming it something like "light mode." The core functionality of this bookmarklet is explained by presenting its "pretty printed" and deciphered code.

The bookmarklet works by dynamically modifying the `filter` CSS property of the `document.documentElement` (the root HTML element of the webpage). When activated, it checks if the filter is already applied. If it is, the bookmarklet clears the filter, effectively toggling the effect off. If no filter is present, it applies a combination of two CSS filters:

1.  **`invert(100%)`**: This filter completely inverts all colors on the webpage, akin to creating a photographic negative. Dark areas become light, and light areas become dark.
2.  **`hue-rotate(180deg)`**: This is the author's key addition, differentiating their bookmarklet from Sylvain's original version.

The article provides a detailed explanation for the inclusion of the `hue-rotate(180deg)` filter. A simple `invert(100%)` filter, while inverting lightness, also drastically alters the hue of colors (e.g., red transforms into blue, yellow into dark blue, violet into pink). The `hue-rotate(180deg)` filter is added to mitigate this unintended side effect. Its purpose is to shift the hues back, ensuring that the original color identity is largely preserved (e.g., red remains red, blue remains blue), albeit with inverted lightness (a light blue becomes dark, and a dark green becomes light). The author asserts that this combined approach results in a visual output that is "a bit more faithful to the original images" in terms of color representation, even with the lightness inversion. A picture is mentioned to visually demonstrate how a rainbow image is transformed by these filters.

Finally, the article touches upon potential improvements for the bookmarklet. The primary limitation identified is that the filters are applied "globally" to the entire webpage, which means images are also affected by the inversion and hue rotation. The author suggests that future refinements could involve preventing the filters from applying to images or applying them more selectively. However, the author concludes that for their current needs, the existing solution provides sufficient relief and is "good enough."